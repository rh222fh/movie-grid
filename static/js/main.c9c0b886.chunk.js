(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/placeholder.51e913d5.png"},5407:function(e,t,a){e.exports=a(5527)},5412:function(e,t,a){},5413:function(e,t,a){},5527:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),o=a.n(c),i=(a(5412),a(5413),a(31)),l=a(24),s=a(5),m=a(11),d=a(22),u=a(29),h=function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(u.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(u.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(d.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(d.a)({},e.breakpoints.up("md"),{display:"flex"}),layout:Object(d.a)({width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:"".concat(8*e.spacing.unit,"px 0"),textAlign:"center"},pageTitle:{textAlign:"left"},card:{textAlign:"left",maxWidth:"100%",height:"100%",display:"flex",flexDirection:"column"},cardMedia:{width:"100%",height:400,objectFit:"cover"},cardContent:{flexGrow:1,width:"100%",padding:"8px 16px 0 16px"},cardTitle:{fontSize:16,marginBottom:0},cardSubTitle:{fontSize:12,marginBottom:0},cardActions:{padding:0},icon:{margin:0},button:{marginLeft:"auto !important"},favoriteIcon:{color:"#9f3e72"},watchLaterIcon:{marginLeft:"auto !important",color:"#70c4bc"},homeSearchIcon:{fontSize:256,color:"#282828"},homeTitle:{color:"#282828"}}},p=a(7),v=a(99),f=a(23),g=a(104),b=a(37),E={searchInput:"",movieList:[],savedMovies:[],watchLater:[],showModal:!1,videoURL:""};function w(e,t){var a=function(a){return Object(f.a)({},e,Object(d.a)({},a,t.payload))};switch(t.type){case"setShowModal":return a("showModal");case"setVideoURL":return a("videoURL");case"setSearchInput":return a("searchInput");case"setSearchResult":return a("searchResult");case"addFavorite":return Object(f.a)({},e,{savedMovies:[].concat(Object(b.a)(e.savedMovies),[t.payload])});case"removeFavorite":return Object(f.a)({},e,{savedMovies:Object(b.a)(e.savedMovies.filter(function(e){return e.id!==t.payload.id}))});case"addWatchLater":return Object(f.a)({},e,{watchLater:[].concat(Object(b.a)(e.watchLater),[t.payload])});case"removeWatchLater":return Object(f.a)({},e,{watchLater:Object(b.a)(e.watchLater.filter(function(e){return e.id!==t.payload.id}))});default:throw new Error}}var y=function(e){var t=localStorage.getItem("savedMovies"),a=localStorage.getItem("watchLater");return t&&(e.savedMovies=JSON.parse(t)),a&&(e.watchLater=JSON.parse(a)),e},S="e649b0f97771d1b81b83fce77ba2fe29",L=function(){var e=r.a.useReducer(w,E,y),t=Object(g.a)(e,2),a=t[0],n=t[1],c=a.searchInput,o=a.searchResult,i=a.savedMovies,l=a.watchLater,s=a.showModal,m=a.videoURL,d=!!o>0;r.a.useEffect(function(){localStorage.setItem("savedMovies",JSON.stringify(i))},[i]),r.a.useEffect(function(){localStorage.setItem("watchLater",JSON.stringify(l))},[l]);r.a.useEffect(function(){if(""!==c){var e="https://api.themoviedb.org/3/search/movie?api_key=".concat(S,"&query=").concat(c);fetch(e).then(function(e){return e.json()}).then(function(e){var t=e.results.map(function(e){return Object(f.a)({},i.find(function(t){return e.id===t.id}),l.find(function(t){return e.id===t.id}),e)});n({type:"setSearchResult",payload:t})}).catch(function(e){return console.log(e)})}},[c,i,l]);return{handleMovieSearch:function(e){n({type:"setSearchInput",payload:e.target.value})},handleFavoriteMovie:function(e){e.favorite=!0,i.find(function(t){return t.id===e.id})?n({type:"removeFavorite",payload:e}):n({type:"addFavorite",payload:e})},handleWatchLater:function(e){e.watchLater=!0,l.find(function(t){return t.id===e.id})?n({type:"removeWatchLater",payload:e}):n({type:"addWatchLater",payload:e})},clearSearch:function(){n({type:"setSearchInput",payload:""})},handleViewTrailer:function(e){var t="https://api.themoviedb.org/3/movie/".concat(e.id,"/videos?api_key=").concat(S);fetch(t).then(function(e){return e.json()}).then(function(e){n({type:"setVideoURL",payload:e.results[0].key}),n({type:"setShowModal",payload:!0})}).catch(function(e){return console.log(e)})},handleTrailerClose:function(e){n({type:"setShowModal",payload:!1})},state:Object(f.a)({},a,{searchInput:c,searchResult:o,savedMovies:i,containsResults:d,showModal:s,videoURL:m})}},N=Object(v.a)(function(){return{movieSearch:L()}}),j=N.Context,O=N.Provider,M=function(){return r.a.useContext(j)},I=Object(p.withStyles)(h)(Object(l.e)(function(e){var t=e.classes,a=e.location,n=M().movieSearch,c=n.handleMovieSearch,o=n.clearSearch,d=n.state,u=d.savedMovies,h=d.watchLater,p=d.searchInput,v="/"!==a.pathname&&p.length>0;return r.a.createElement("div",{className:t.root},v&&r.a.createElement(l.a,{to:"/"}),r.a.createElement(s.a,{position:"static"},r.a.createElement(s.k,null,r.a.createElement(s.i,{component:i.b,color:"inherit",to:"/",className:"routerLink"},r.a.createElement(m.c,null)),r.a.createElement(s.l,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},"MovieGrid"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(m.d,null)),r.a.createElement(s.j,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},onChange:c})),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(s.i,{component:i.b,color:"inherit",to:"/favorites",className:"routerLink",onClick:function(){return o()}},r.a.createElement(s.b,{badgeContent:u.length,color:"secondary"},0!==u.length?r.a.createElement(m.a,null):r.a.createElement(m.b,null))),r.a.createElement(s.i,{component:i.b,color:"inherit",to:"/watch-later",className:"routerLink",onClick:function(){return o()}},r.a.createElement(s.b,{badgeContent:h.length,color:"secondary"},0!==h.length?r.a.createElement(m.e,null):r.a.createElement(m.f,null)))))))})),k=a(44),R=a.n(k),x=a(4),T=a.n(x),C=a(102),B=a.n(C),W=Object(p.withStyles)(h)(function(e){var t=e.classes,a=e.movie,n=M().movieSearch,c=n.handleFavoriteMovie,o=n.handleWatchLater,i=n.handleViewTrailer;return r.a.createElement(s.h,{zeroMinWidth:!0,item:!0,key:a.id,sm:6,md:4,lg:3},r.a.createElement(s.d,{className:t.card,elevation:2},r.a.createElement(s.g,{className:t.cardMedia,image:null!==a.poster_path?"https://image.tmdb.org/t/p/w342/".concat(a.poster_path):B.a,title:a.title}),r.a.createElement(s.f,{className:t.cardContent},r.a.createElement(s.l,{gutterBottom:!0,variant:"h6",component:"h2",className:t.cardTitle,noWrap:!0},a.title),r.a.createElement(s.l,{gutterBottom:!0,component:"p",className:t.cardSubTitle},a.release_date.substr(0,4))),r.a.createElement(s.e,{className:t.cardActions},r.a.createElement(s.i,{className:T()(t.icon,t.favoriteIcon),"aria-label":"Add to favorites",onClick:function(){c(a)}},a.favorite?r.a.createElement(m.a,null):r.a.createElement(m.b,null)),r.a.createElement(s.c,{size:"small",onMouseDown:function(){return i(a)},className:t.button},"View Trailer"),r.a.createElement(s.i,{className:"".concat(t.icon," ").concat(t.watchLaterIcon),"aria-label":"Watch later",onClick:function(){o(a)}},a.watchLater?r.a.createElement(m.e,null):r.a.createElement(m.f,null)))))}),G=a(103),F=a.n(G),U=Object(p.withStyles)(h)(function(e){e.classes;var t=e.movies,a=M().movieSearch,n=a.handleTrailerClose,c=a.state,o=c.showModal,i=c.videoURL;return r.a.createElement("main",null,r.a.createElement(R.a,{container:!0,spacing:24},t.map(function(e){return r.a.createElement(W,{key:e.id,movie:e})})),r.a.createElement(F.a,{channel:"youtube",isOpen:o,videoId:i,onClose:function(){return n()}}))}),A=Object(p.withStyles)(h)(function(e){var t=e.classes,a=M().movieSearch.state,n=a.searchResult;return a.containsResults?r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(s.l,{variant:"h5",component:"h1",gutterBottom:!0,className:t.pageTitle},"Search Results"),r.a.createElement(U,{movies:n})):r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(m.d,{className:t.homeSearchIcon}),r.a.createElement(s.l,{variant:"h2",component:"h1",gutterBottom:!0,className:t.homeTitle},"Search movie..."))}),J=Object(p.withStyles)(h)(function(e){var t=e.classes,a=M().movieSearch.state.savedMovies;return 0===a.length?r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(m.b,{className:t.homeSearchIcon}),r.a.createElement(s.l,{variant:"h2",component:"h1",gutterBottom:!0,className:t.homeTitle},"No movies added to Favorites")):r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(s.l,{variant:"h5",component:"h1",gutterBottom:!0,className:t.pageTitle},"Favorite Movies"),r.a.createElement(U,{movies:a}))}),z=Object(p.withStyles)(h)(function(e){var t=e.classes,a=M().movieSearch.state.watchLater;return 0===a.length?r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(m.f,{className:t.homeSearchIcon}),r.a.createElement(s.l,{variant:"h2",component:"h1",gutterBottom:!0,className:t.homeTitle},"No movies added to Watch Later")):r.a.createElement("div",{className:T()(t.layout,t.cardGrid)},r.a.createElement(s.l,{variant:"h5",component:"h1",gutterBottom:!0,className:t.pageTitle},"Watch Later"),r.a.createElement(U,{movies:a}))}),V=a(57),_=a.n(V),D=a(45),q=a.n(D),P=Object(p.createMuiTheme)({palette:{type:"dark",primary:{main:"#880e4f"},secondary:{main:"#4db6ac"}}});var H=function(){return r.a.createElement(i.a,null,r.a.createElement(_.a,{theme:P},r.a.createElement(q.a,null),r.a.createElement(I,null),r.a.createElement("div",null,r.a.createElement(l.b,{path:"/",exact:!0,component:A}),r.a.createElement(l.b,{path:"/favorites/",component:J}),r.a.createElement(l.b,{path:"/watch-later/",component:z}))))};a(5526);o.a.render(r.a.createElement(O,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[5407,1,2]]]);
//# sourceMappingURL=main.c9c0b886.chunk.js.map